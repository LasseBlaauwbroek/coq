(library
 (name top_printers)
 (public_name coq-base.top_printers)
 (synopsis "Coq's Debug Printers")
 (wrapped false)
 (modules top_printers)
 (optional)
 (libraries coq-base.toplevel coq-base.plugins.ltac))

(rule
  (targets dune-dbg)
  (deps
    dune-dbg.in
    ../checker/coqchk.bc
    ../topbin/coqc_bin.bc
    ../ide/coqide/coqide_main.bc
    ; We require all the OCaml libs to be in place and searchable
    ; by OCamlfind, this is a bit of a hack but until Dune gets
    ; proper ocamldebug support we have to live with that.
    %{lib:coq-base.config:config.cma}
    %{lib:coq-base.clib:clib.cma}
    %{lib:coq-base.lib:lib.cma}
    %{lib:coq-base.kernel:kernel.cma}
    %{lib:coq-base.vm:byterun.cma}
    %{lib:coq-base.vm:../../stublibs/dllbyterun_stubs.so}
    %{lib:coq-base.library:library.cma}
    %{lib:coq-base.engine:engine.cma}
    %{lib:coq-base.pretyping:pretyping.cma}
    %{lib:coq-base.gramlib:gramlib.cma}
    %{lib:coq-base.interp:interp.cma}
    %{lib:coq-base.proofs:proofs.cma}
    %{lib:coq-base.parsing:parsing.cma}
    %{lib:coq-base.printing:printing.cma}
    %{lib:coq-base.tactics:tactics.cma}
    %{lib:coq-base.vernac:vernac.cma}
    %{lib:coq-base.stm:stm.cma}
    %{lib:coq-base.toplevel:toplevel.cma}
    %{lib:coq-base.plugins.ltac:ltac_plugin.cma}
    %{lib:coq-base.top_printers:top_printers.cmi}
    %{lib:coq-base.top_printers:top_printers.cma}
    %{lib:coq-base.top_printers:../META})
  (action (copy dune-dbg.in dune-dbg)))
